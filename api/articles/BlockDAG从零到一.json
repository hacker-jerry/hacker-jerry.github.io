{"title":"BlockDAG从零到一","slug":"BlockDAG从零到一","date":"2021-04-02T12:04:25.000Z","updated":"2022-02-05T04:19:07.635Z","comments":true,"path":"api/articles/BlockDAG从零到一.json","realPath":null,"excerpt":"加油！","covers":["https://cdn.nlark.com/yuque/0/2021/png/1629942/1617441419925-9f079572-c711-428a-a94f-1a2a6ac6ce98.png#align=left&display=inline&height=299&margin=%5Bobject%20Object%5D&name=image.png&originHeight=598&originWidth=1303&size=258120&status=done&style=none&width=651.5","https://cdn.nlark.com/yuque/0/2021/png/1629942/1617436033703-2f89b5e6-c23a-45a8-b127-8df8ebd6353d.png#align=left&display=inline&height=343&margin=%5Bobject%20Object%5D&name=image.png&originHeight=686&originWidth=776&size=143104&status=done&style=none&width=388"],"cover":"https://cdn.nlark.com/yuque/0/2021/png/1629942/1617441419925-9f079572-c711-428a-a94f-1a2a6ac6ce98.png#align=left&display=inline&height=299&margin=%5Bobject%20Object%5D&name=image.png&originHeight=598&originWidth=1303&size=258120&status=done&style=none&width=651.5","content":"<p>加油！</p>\n<a id=\"more\"></a>\n\n<h1 id=\"项目结构\"><a href=\"#项目结构\" class=\"headerlink\" title=\"项目结构\"></a>项目结构</h1><ul>\n<li><p>DAG</p>\n<ul>\n<li>SPECTRE<ul>\n<li>snapshot.go–生成快照</li>\n<li>vote.go–投票</li>\n<li>log.go–记录日志</li>\n</ul>\n</li>\n<li>accepttxs.go–维持可信交易集</li>\n<li>blockdag.go–主程序</li>\n<li>difficulty.go–动态调整 pow 困难度</li>\n<li>error.go–错误信息</li>\n<li>log.go–日志信息</li>\n<li>process.go–将区块加入链？或者称检查块的合法性</li>\n</ul>\n</li>\n<li><p>minner</p>\n<ul>\n<li>pow.go–工作量证明</li>\n<li>worker.go</li>\n</ul>\n</li>\n<li><p>account</p>\n<ul>\n<li>user.go–用户相关，身份认定，发送交易</li>\n</ul>\n</li>\n<li><p>bloom</p>\n<ul>\n<li>timebloom.go–时间布隆过滤器</li>\n<li>rangebloom.go–范围布隆过滤器</li>\n</ul>\n</li>\n<li><p>p2pnet</p>\n<ul>\n<li>libp2p–p2p 网络对等节点发现</li>\n</ul>\n</li>\n<li><p>mempool–内存池</p>\n</li>\n<li><p>crypto–密码学模块</p>\n<ul>\n<li>pkcs12–引用 gmsm <a href=\"https://github.com/tjfoc/gmsm\">https://github.com/tjfoc/gmsm</a> 好像性能有点问题？ 这里有另外一个<a href=\"https://github.com/rongzer/gm\">https://github.com/rongzer/gm</a> 看情况吧</li>\n<li>sm2<ul>\n<li>p256.go</li>\n<li>sm2.go</li>\n<li>utils.go</li>\n</ul>\n</li>\n<li>sm3<ul>\n<li>sm3.go</li>\n<li>ifile</li>\n</ul>\n</li>\n<li>sm4<ul>\n<li>sm4.go</li>\n<li>sm4_gcm.go</li>\n<li>utils.go</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>database-存储 <a href=\"https://github.com/vldmkr/merkle-patricia-trie\">https://github.com/vldmkr/merkle-patricia-trie</a></p>\n<ul>\n<li><p>mpt</p>\n<ul>\n<li>node.go</li>\n<li>tire.go</li>\n<li>type.go</li>\n</ul>\n</li>\n<li><p>storage</p>\n<ul>\n<li>adapter.go</li>\n<li>leveldb.go</li>\n<li>memory.go</li>\n</ul>\n</li>\n<li><p>database.go–利用 leveldb 存储交易（MPT），在区块中只存储根节点 hsha。</p>\n</li>\n<li><p>merkletire.go–MPT 树存储</p>\n</li>\n<li><p>可以先尝试安装<a href=\"https://github.com/soteria-dag/soterd/tree/master/database\">https://github.com/soteria-dag/soterd/tree/master/database</a>，看看能不能保存交易</p>\n</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"p2pnet\"><a href=\"#p2pnet\" class=\"headerlink\" title=\"p2pnet\"></a>p2pnet</h1><p><a href=\"https://segmentfault.com/a/1190000018590682\">区块链中的 P2P</a><br><a href=\"https://www.shangmayuan.com/a/61258d114131449994f5278e.html\">使用 Go 语言编写区块链 P2P 网络</a>–项目：<a href=\"https://github.com/nosequeldeebee/blockchain-tutorial/blob/master/p2p/main.go\">https://github.com/nosequeldeebee/blockchain-tutorial/blob/master/p2p/main.go</a><br><a href=\"https://github.com/Blockchain-CN/blockchain\">https://github.com/Blockchain-CN/blockchain</a> –实现了对等协议的<br><a href=\"https://bbbob.win/b6edc29f/\">利用 go-libp2p 实现在区块链上的 p2p</a>–里面目录分的挺清楚的</p>\n<h1 id=\"mempool\"><a href=\"#mempool\" class=\"headerlink\" title=\"mempool\"></a>mempool</h1><p><a href=\"https://learnblockchain.cn/books/geth/part2/txpool/txpool.html\">以太坊交易池架构设计</a>–这一系列很全<br><a href=\"https://blog.csdn.net/loy_184548/article/details/86178255\">【区块链】比特币学习 - 4 - 交易池</a><br><a href=\"https://segmentfault.com/a/1190000017333194\">以太坊源码分析：交易缓冲池 txpool</a><br><a href=\"https://github.com/lianxiangcloud/linkchain/tree/release/v0.1.3/mempool\">https://github.com/lianxiangcloud/linkchain/tree/release/v0.1.3/mempool</a><br><a href=\"https://www.jianshu.com/p/521a0926303a\">btcd 源码分析系列：6 - mempool</a><br><a href=\"https://github.com/wupeaking/tendermint_code_analysis/blob/master/Mempool%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90.md\">Mempool 源码分析</a><br><a href=\"https://github.com/letsfire/factory\">https://github.com/letsfire/factory</a> –单纯的内存池，而非交易池<br><img src=\"https://cdn.nlark.com/yuque/0/2021/png/1629942/1617441419925-9f079572-c711-428a-a94f-1a2a6ac6ce98.png#align=left&display=inline&height=299&margin=%5Bobject%20Object%5D&name=image.png&originHeight=598&originWidth=1303&size=258120&status=done&style=none&width=651.5\" alt=\"image.png\"><br>说实话，这个有点难，可能暂时不考虑实现了。</p>\n<h1 id=\"account\"><a href=\"#account\" class=\"headerlink\" title=\"account\"></a>account</h1><p><img src=\"https://cdn.nlark.com/yuque/0/2021/png/1629942/1617436033703-2f89b5e6-c23a-45a8-b127-8df8ebd6353d.png#align=left&display=inline&height=343&margin=%5Bobject%20Object%5D&name=image.png&originHeight=686&originWidth=776&size=143104&status=done&style=none&width=388\" alt=\"image.png\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/1629942/1617436089888-84b4f08d-272d-48df-a29b-1fdfd5c0d110.png#align=left&display=inline&height=288&margin=%5Bobject%20Object%5D&name=image.png&originHeight=576&originWidth=626&size=139030&status=done&style=none&width=313\" alt=\"image.png\"><br>来自白皮书：<a href=\"https://www.lianxiangcloud.com/static/download/%E4%BA%AB%E4%BA%91%E9%93%BE%E7%99%BD%E7%9A%AE%E4%B9%A61.0.pdf\">享云链白皮书 1.0</a><br><a href=\"https://learnblockchain.cn/books/geth/part3/sign-and-valid.html\">签名与校验</a></p>\n","more":"<h1 id=\"项目结构\"><a href=\"#项目结构\" class=\"headerlink\" title=\"项目结构\"></a>项目结构</h1><ul>\n<li><p>DAG</p>\n<ul>\n<li>SPECTRE<ul>\n<li>snapshot.go–生成快照</li>\n<li>vote.go–投票</li>\n<li>log.go–记录日志</li>\n</ul>\n</li>\n<li>accepttxs.go–维持可信交易集</li>\n<li>blockdag.go–主程序</li>\n<li>difficulty.go–动态调整 pow 困难度</li>\n<li>error.go–错误信息</li>\n<li>log.go–日志信息</li>\n<li>process.go–将区块加入链？或者称检查块的合法性</li>\n</ul>\n</li>\n<li><p>minner</p>\n<ul>\n<li>pow.go–工作量证明</li>\n<li>worker.go</li>\n</ul>\n</li>\n<li><p>account</p>\n<ul>\n<li>user.go–用户相关，身份认定，发送交易</li>\n</ul>\n</li>\n<li><p>bloom</p>\n<ul>\n<li>timebloom.go–时间布隆过滤器</li>\n<li>rangebloom.go–范围布隆过滤器</li>\n</ul>\n</li>\n<li><p>p2pnet</p>\n<ul>\n<li>libp2p–p2p 网络对等节点发现</li>\n</ul>\n</li>\n<li><p>mempool–内存池</p>\n</li>\n<li><p>crypto–密码学模块</p>\n<ul>\n<li>pkcs12–引用 gmsm <a href=\"https://github.com/tjfoc/gmsm\">https://github.com/tjfoc/gmsm</a> 好像性能有点问题？ 这里有另外一个<a href=\"https://github.com/rongzer/gm\">https://github.com/rongzer/gm</a> 看情况吧</li>\n<li>sm2<ul>\n<li>p256.go</li>\n<li>sm2.go</li>\n<li>utils.go</li>\n</ul>\n</li>\n<li>sm3<ul>\n<li>sm3.go</li>\n<li>ifile</li>\n</ul>\n</li>\n<li>sm4<ul>\n<li>sm4.go</li>\n<li>sm4_gcm.go</li>\n<li>utils.go</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>database-存储 <a href=\"https://github.com/vldmkr/merkle-patricia-trie\">https://github.com/vldmkr/merkle-patricia-trie</a></p>\n<ul>\n<li><p>mpt</p>\n<ul>\n<li>node.go</li>\n<li>tire.go</li>\n<li>type.go</li>\n</ul>\n</li>\n<li><p>storage</p>\n<ul>\n<li>adapter.go</li>\n<li>leveldb.go</li>\n<li>memory.go</li>\n</ul>\n</li>\n<li><p>database.go–利用 leveldb 存储交易（MPT），在区块中只存储根节点 hsha。</p>\n</li>\n<li><p>merkletire.go–MPT 树存储</p>\n</li>\n<li><p>可以先尝试安装<a href=\"https://github.com/soteria-dag/soterd/tree/master/database\">https://github.com/soteria-dag/soterd/tree/master/database</a>，看看能不能保存交易</p>\n</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"p2pnet\"><a href=\"#p2pnet\" class=\"headerlink\" title=\"p2pnet\"></a>p2pnet</h1><p><a href=\"https://segmentfault.com/a/1190000018590682\">区块链中的 P2P</a><br><a href=\"https://www.shangmayuan.com/a/61258d114131449994f5278e.html\">使用 Go 语言编写区块链 P2P 网络</a>–项目：<a href=\"https://github.com/nosequeldeebee/blockchain-tutorial/blob/master/p2p/main.go\">https://github.com/nosequeldeebee/blockchain-tutorial/blob/master/p2p/main.go</a><br><a href=\"https://github.com/Blockchain-CN/blockchain\">https://github.com/Blockchain-CN/blockchain</a> –实现了对等协议的<br><a href=\"https://bbbob.win/b6edc29f/\">利用 go-libp2p 实现在区块链上的 p2p</a>–里面目录分的挺清楚的</p>\n<h1 id=\"mempool\"><a href=\"#mempool\" class=\"headerlink\" title=\"mempool\"></a>mempool</h1><p><a href=\"https://learnblockchain.cn/books/geth/part2/txpool/txpool.html\">以太坊交易池架构设计</a>–这一系列很全<br><a href=\"https://blog.csdn.net/loy_184548/article/details/86178255\">【区块链】比特币学习 - 4 - 交易池</a><br><a href=\"https://segmentfault.com/a/1190000017333194\">以太坊源码分析：交易缓冲池 txpool</a><br><a href=\"https://github.com/lianxiangcloud/linkchain/tree/release/v0.1.3/mempool\">https://github.com/lianxiangcloud/linkchain/tree/release/v0.1.3/mempool</a><br><a href=\"https://www.jianshu.com/p/521a0926303a\">btcd 源码分析系列：6 - mempool</a><br><a href=\"https://github.com/wupeaking/tendermint_code_analysis/blob/master/Mempool%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90.md\">Mempool 源码分析</a><br><a href=\"https://github.com/letsfire/factory\">https://github.com/letsfire/factory</a> –单纯的内存池，而非交易池<br><img src=\"https://cdn.nlark.com/yuque/0/2021/png/1629942/1617441419925-9f079572-c711-428a-a94f-1a2a6ac6ce98.png#align=left&display=inline&height=299&margin=%5Bobject%20Object%5D&name=image.png&originHeight=598&originWidth=1303&size=258120&status=done&style=none&width=651.5\" alt=\"image.png\"><br>说实话，这个有点难，可能暂时不考虑实现了。</p>\n<h1 id=\"account\"><a href=\"#account\" class=\"headerlink\" title=\"account\"></a>account</h1><p><img src=\"https://cdn.nlark.com/yuque/0/2021/png/1629942/1617436033703-2f89b5e6-c23a-45a8-b127-8df8ebd6353d.png#align=left&display=inline&height=343&margin=%5Bobject%20Object%5D&name=image.png&originHeight=686&originWidth=776&size=143104&status=done&style=none&width=388\" alt=\"image.png\"><img src=\"https://cdn.nlark.com/yuque/0/2021/png/1629942/1617436089888-84b4f08d-272d-48df-a29b-1fdfd5c0d110.png#align=left&display=inline&height=288&margin=%5Bobject%20Object%5D&name=image.png&originHeight=576&originWidth=626&size=139030&status=done&style=none&width=313\" alt=\"image.png\"><br>来自白皮书：<a href=\"https://www.lianxiangcloud.com/static/download/%E4%BA%AB%E4%BA%91%E9%93%BE%E7%99%BD%E7%9A%AE%E4%B9%A61.0.pdf\">享云链白皮书 1.0</a><br><a href=\"https://learnblockchain.cn/books/geth/part3/sign-and-valid.html\">签名与校验</a></p>","categories":[],"tags":[]}