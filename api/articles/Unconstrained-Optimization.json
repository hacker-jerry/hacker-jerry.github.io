{"title":"Unconstrained-Optimization","slug":"Unconstrained-Optimization","date":"2020-09-14T08:50:37.000Z","updated":"2023-04-19T07:53:25.634Z","comments":true,"path":"api/articles/Unconstrained-Optimization.json","realPath":null,"excerpt":null,"covers":["https://cdn.nlark.com/yuque/0/2020/png/1629942/1599728371105-85bc1f9a-3db9-4992-ab4e-f40c316f01e4.png#align=left&display=inline&height=88&originHeight=88&originWidth=565&size=0&status=done&style=none&width=565"],"cover":"https://cdn.nlark.com/yuque/0/2020/png/1629942/1599728371105-85bc1f9a-3db9-4992-ab4e-f40c316f01e4.png#align=left&display=inline&height=88&originHeight=88&originWidth=565&size=0&status=done&style=none&width=565","content":"<a id=\"more\"></a>\n\n<h1 id=\"无约束优化\"><a href=\"#无约束优化\" class=\"headerlink\" title=\"无约束优化\"></a>无约束优化</h1><h2 id=\"单变量优化-最小值\"><a href=\"#单变量优化-最小值\" class=\"headerlink\" title=\"单变量优化(最小值)\"></a>单变量优化(最小值)</h2><h3 id=\"fminbnd’命令–查找单变量函数在定区间上的最小值\"><a href=\"#fminbnd’命令–查找单变量函数在定区间上的最小值\" class=\"headerlink\" title=\"`fminbnd’命令–查找单变量函数在定区间上的最小值\"></a>`fminbnd’命令–查找单变量函数在定区间上的最小值</h3><p><code>x = fminbnd(fun,x1,x2)</code> 返回一个值 x，该值是 fun 中描述的标量值函数在区间 x1 &lt; x &lt; x2 中的局部最小值。<br><code>x = fminbnd(fun,x1,x2,options)</code> 如 options = optimset(‘Display’,’iter’)在常微分方程中有详细的描述<br><code>x = fminbnd(problem)</code><br><code>[x,fval] = fminbnd(___)</code> 返回目标函数在 fun 的解 x 处计算出的值。</p>\n<blockquote>\n<p>即求最小值的位置和函数值</p>\n</blockquote>\n<p>如</p>\n<figure class=\"highlight matlab\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs matlab\">fun = @<span class=\"hljs-built_in\">sin</span>;<br>[x,fval] = fminbnd(fun,<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>*<span class=\"hljs-built_in\">pi</span>)<br><span class=\"hljs-comment\">%输出</span><br>x = <span class=\"hljs-number\">4.7124</span><br>fval = <span class=\"hljs-number\">-1.0000</span><br></code></pre></td></tr></table></figure>\n\n<p><code>[x,fval,exitflag] = fminbnd(___)</code><br><code>[x,fval,exitflag,output] = fminbnd(___)</code></p>\n<h2 id=\"双变量优化-最小值\"><a href=\"#双变量优化-最小值\" class=\"headerlink\" title=\"双变量优化(最小值)\"></a>双变量优化(最小值)</h2><h3 id=\"fminunc信赖域法和拟牛顿法\"><a href=\"#fminunc信赖域法和拟牛顿法\" class=\"headerlink\" title=\"fminunc信赖域法和拟牛顿法\"></a><code>fminunc</code>信赖域法和拟牛顿法</h3><p><code>x = fminunc(fun,x0)</code><br><code>x = fminunc(fun,x0,options)</code><br><code>x = fminunc(problem)</code><br><code>[x,fval] = fminunc(___)</code><br><code>[x,fval,exitflag,output] = fminunc(___)</code><br><code>[x,fval,exitflag,output,grad,hessian] = fminunc(___)</code><br>这里看一个<strong>双变量加传参的特殊例子</strong>。求<br>函数文件</p>\n<figure class=\"highlight matlab\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs matlab\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">x</span> = <span class=\"hljs-title\">examfminunc</span><span class=\"hljs-params\">(x,a,b)</span></span><br>x = x(<span class=\"hljs-number\">1</span>)^<span class=\"hljs-number\">2</span>/a+x(<span class=\"hljs-number\">2</span>)^<span class=\"hljs-number\">2</span>/b;<br></code></pre></td></tr></table></figure>\n\n<p>源程序<code>x = fminunc(@examfminunc,[1,1],[],2,2)%x=1,y=1是初始值</code></p>\n<blockquote>\n<p>我也不知道这是怎么传进去的参……这个顺序就很迷，但去掉那个[]就会报错无法执行赋值，因为此类型的变量不支持使用点进行索引后期在看书的时候发现那里似乎是 opt 字段，传空数组即不对 opt 进行修改于是我尝试修改成 <code>x = fminunc(@examfminunc,[1,1],&#39;&#39;,2,2)</code>，发现果然也能运行</p>\n</blockquote>\n<h2 id=\"lsqnonlin-拟合非线性最小二乘系数\"><a href=\"#lsqnonlin-拟合非线性最小二乘系数\" class=\"headerlink\" title=\"lsqnonlin 拟合非线性最小二乘系数\"></a><code>lsqnonlin</code> 拟合非线性最小二乘系数</h2><h3 id=\"语法\"><a href=\"#语法\" class=\"headerlink\" title=\"语法\"></a>语法</h3><p><code>x = lsqnonlin(fun,x0)</code><br><code>x = lsqnonlin(fun,x0,lb,ub)</code> defines a set of lower and upper bounds on the design variables in x, so that the solution is always in the range . You can fix the solution component x(i) by specifying .<br><code>x = lsqnonlin(fun,x0,lb,ub,options)</code><br>主要用于最小二乘法寻找最优点。（直接把函数值传进去寻找最小值）</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2020/png/1629942/1599728371105-85bc1f9a-3db9-4992-ab4e-f40c316f01e4.png#align=left&display=inline&height=88&originHeight=88&originWidth=565&size=0&status=done&style=none&width=565\"></p>\n<h3 id=\"示例：飞机定位\"><a href=\"#示例：飞机定位\" class=\"headerlink\" title=\"示例：飞机定位\"></a>示例：飞机定位</h3><p>函数文件</p>\n<figure class=\"highlight matlab\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs matlab\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">f</span> = <span class=\"hljs-title\">feijidingwei</span><span class=\"hljs-params\">(x,x0,y0,theta,sigma,d4,sigma4)</span></span><br><span class=\"hljs-keyword\">for</span> <span class=\"hljs-built_in\">i</span> = <span class=\"hljs-number\">1</span>:<span class=\"hljs-number\">3</span><br>    f(<span class=\"hljs-built_in\">i</span>) = (<span class=\"hljs-built_in\">atan2</span>(x(<span class=\"hljs-number\">1</span>)-x0(<span class=\"hljs-built_in\">i</span>),x(<span class=\"hljs-number\">2</span>)-y0(<span class=\"hljs-built_in\">i</span>))-theta(<span class=\"hljs-built_in\">i</span>))/sigma(<span class=\"hljs-built_in\">i</span>);<span class=\"hljs-comment\">%最小二乘的1~3个参数（注意没有平方，lsqcurvefit函数会加上）</span><br><span class=\"hljs-keyword\">end</span><br>f(<span class=\"hljs-number\">4</span>) = (<span class=\"hljs-built_in\">sqrt</span>((x(<span class=\"hljs-number\">1</span>)-x0(<span class=\"hljs-number\">4</span>))^<span class=\"hljs-number\">2</span>+(x(<span class=\"hljs-number\">2</span>)-y0(<span class=\"hljs-number\">4</span>))^<span class=\"hljs-number\">2</span>)-d4)/sigma4;<span class=\"hljs-comment\">%最小二乘的第四个参数</span><br>主程序<br>X = [<span class=\"hljs-number\">746</span> <span class=\"hljs-number\">629</span> <span class=\"hljs-number\">1571</span> <span class=\"hljs-number\">155</span>];<br>Y = [<span class=\"hljs-number\">1393</span> <span class=\"hljs-number\">375</span> <span class=\"hljs-number\">259</span> <span class=\"hljs-number\">987</span>];<br>theta = [<span class=\"hljs-number\">161.2</span>,<span class=\"hljs-number\">45.1</span>,<span class=\"hljs-number\">309.0</span><span class=\"hljs-number\">-360</span>]*<span class=\"hljs-number\">2</span>*<span class=\"hljs-built_in\">pi</span>/<span class=\"hljs-number\">360</span>;<br>sigma = [<span class=\"hljs-number\">0.8</span>,<span class=\"hljs-number\">0.6</span>,<span class=\"hljs-number\">1.3</span>]*<span class=\"hljs-number\">2</span>*<span class=\"hljs-built_in\">pi</span>/<span class=\"hljs-number\">360</span>;<br>d4 = <span class=\"hljs-number\">864.3</span>;<br>sigma4 = <span class=\"hljs-number\">2</span>;<br>x0 = [<span class=\"hljs-number\">900</span>,<span class=\"hljs-number\">700</span>];<span class=\"hljs-comment\">%大约估计的飞机位置</span><br>[x,norm,res,exit,out] = lsqnonlin(@feijidingwei,x0,[],[],[],X,Y,theta,sigma,d4,sigma4)<span class=\"hljs-comment\">%注意这里主初始值就是x0，然后接着三个空数组，然后才能把额外参数传进来</span><br><span class=\"hljs-comment\">%输出</span><br>x =<br><br>   <span class=\"hljs-number\">1.0e+02</span> *<br><br>   <span class=\"hljs-number\">9.783070295413857</span>   <span class=\"hljs-number\">7.239837766517786</span><br><br><br>norm =<br><br>   <span class=\"hljs-number\">0.668471174541973</span><br></code></pre></td></tr></table></figure>\n\n<blockquote>\n<p>lsqcurvefit 也可以最小二乘但是尝试了许多方法它都无法传入更多的参数……遂放弃</p>\n</blockquote>\n","more":"<h1 id=\"无约束优化\"><a href=\"#无约束优化\" class=\"headerlink\" title=\"无约束优化\"></a>无约束优化</h1><h2 id=\"单变量优化-最小值\"><a href=\"#单变量优化-最小值\" class=\"headerlink\" title=\"单变量优化(最小值)\"></a>单变量优化(最小值)</h2><h3 id=\"fminbnd’命令–查找单变量函数在定区间上的最小值\"><a href=\"#fminbnd’命令–查找单变量函数在定区间上的最小值\" class=\"headerlink\" title=\"`fminbnd’命令–查找单变量函数在定区间上的最小值\"></a>`fminbnd’命令–查找单变量函数在定区间上的最小值</h3><p><code>x = fminbnd(fun,x1,x2)</code> 返回一个值 x，该值是 fun 中描述的标量值函数在区间 x1 &lt; x &lt; x2 中的局部最小值。<br><code>x = fminbnd(fun,x1,x2,options)</code> 如 options = optimset(‘Display’,’iter’)在常微分方程中有详细的描述<br><code>x = fminbnd(problem)</code><br><code>[x,fval] = fminbnd(___)</code> 返回目标函数在 fun 的解 x 处计算出的值。</p>\n<blockquote>\n<p>即求最小值的位置和函数值</p>\n</blockquote>\n<p>如</p>\n<figure class=\"highlight matlab\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs matlab\">fun = @<span class=\"hljs-built_in\">sin</span>;<br>[x,fval] = fminbnd(fun,<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>*<span class=\"hljs-built_in\">pi</span>)<br><span class=\"hljs-comment\">%输出</span><br>x = <span class=\"hljs-number\">4.7124</span><br>fval = <span class=\"hljs-number\">-1.0000</span><br></code></pre></td></tr></table></figure>\n\n<p><code>[x,fval,exitflag] = fminbnd(___)</code><br><code>[x,fval,exitflag,output] = fminbnd(___)</code></p>\n<h2 id=\"双变量优化-最小值\"><a href=\"#双变量优化-最小值\" class=\"headerlink\" title=\"双变量优化(最小值)\"></a>双变量优化(最小值)</h2><h3 id=\"fminunc信赖域法和拟牛顿法\"><a href=\"#fminunc信赖域法和拟牛顿法\" class=\"headerlink\" title=\"fminunc信赖域法和拟牛顿法\"></a><code>fminunc</code>信赖域法和拟牛顿法</h3><p><code>x = fminunc(fun,x0)</code><br><code>x = fminunc(fun,x0,options)</code><br><code>x = fminunc(problem)</code><br><code>[x,fval] = fminunc(___)</code><br><code>[x,fval,exitflag,output] = fminunc(___)</code><br><code>[x,fval,exitflag,output,grad,hessian] = fminunc(___)</code><br>这里看一个<strong>双变量加传参的特殊例子</strong>。求<br>函数文件</p>\n<figure class=\"highlight matlab\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs matlab\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">x</span> = <span class=\"hljs-title\">examfminunc</span><span class=\"hljs-params\">(x,a,b)</span></span><br>x = x(<span class=\"hljs-number\">1</span>)^<span class=\"hljs-number\">2</span>/a+x(<span class=\"hljs-number\">2</span>)^<span class=\"hljs-number\">2</span>/b;<br></code></pre></td></tr></table></figure>\n\n<p>源程序<code>x = fminunc(@examfminunc,[1,1],[],2,2)%x=1,y=1是初始值</code></p>\n<blockquote>\n<p>我也不知道这是怎么传进去的参……这个顺序就很迷，但去掉那个[]就会报错无法执行赋值，因为此类型的变量不支持使用点进行索引后期在看书的时候发现那里似乎是 opt 字段，传空数组即不对 opt 进行修改于是我尝试修改成 <code>x = fminunc(@examfminunc,[1,1],&#39;&#39;,2,2)</code>，发现果然也能运行</p>\n</blockquote>\n<h2 id=\"lsqnonlin-拟合非线性最小二乘系数\"><a href=\"#lsqnonlin-拟合非线性最小二乘系数\" class=\"headerlink\" title=\"lsqnonlin 拟合非线性最小二乘系数\"></a><code>lsqnonlin</code> 拟合非线性最小二乘系数</h2><h3 id=\"语法\"><a href=\"#语法\" class=\"headerlink\" title=\"语法\"></a>语法</h3><p><code>x = lsqnonlin(fun,x0)</code><br><code>x = lsqnonlin(fun,x0,lb,ub)</code> defines a set of lower and upper bounds on the design variables in x, so that the solution is always in the range . You can fix the solution component x(i) by specifying .<br><code>x = lsqnonlin(fun,x0,lb,ub,options)</code><br>主要用于最小二乘法寻找最优点。（直接把函数值传进去寻找最小值）</p>\n<p><img src=\"https://cdn.nlark.com/yuque/0/2020/png/1629942/1599728371105-85bc1f9a-3db9-4992-ab4e-f40c316f01e4.png#align=left&display=inline&height=88&originHeight=88&originWidth=565&size=0&status=done&style=none&width=565\"></p>\n<h3 id=\"示例：飞机定位\"><a href=\"#示例：飞机定位\" class=\"headerlink\" title=\"示例：飞机定位\"></a>示例：飞机定位</h3><p>函数文件</p>\n<figure class=\"highlight matlab\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs matlab\"><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">f</span> = <span class=\"hljs-title\">feijidingwei</span><span class=\"hljs-params\">(x,x0,y0,theta,sigma,d4,sigma4)</span></span><br><span class=\"hljs-keyword\">for</span> <span class=\"hljs-built_in\">i</span> = <span class=\"hljs-number\">1</span>:<span class=\"hljs-number\">3</span><br>    f(<span class=\"hljs-built_in\">i</span>) = (<span class=\"hljs-built_in\">atan2</span>(x(<span class=\"hljs-number\">1</span>)-x0(<span class=\"hljs-built_in\">i</span>),x(<span class=\"hljs-number\">2</span>)-y0(<span class=\"hljs-built_in\">i</span>))-theta(<span class=\"hljs-built_in\">i</span>))/sigma(<span class=\"hljs-built_in\">i</span>);<span class=\"hljs-comment\">%最小二乘的1~3个参数（注意没有平方，lsqcurvefit函数会加上）</span><br><span class=\"hljs-keyword\">end</span><br>f(<span class=\"hljs-number\">4</span>) = (<span class=\"hljs-built_in\">sqrt</span>((x(<span class=\"hljs-number\">1</span>)-x0(<span class=\"hljs-number\">4</span>))^<span class=\"hljs-number\">2</span>+(x(<span class=\"hljs-number\">2</span>)-y0(<span class=\"hljs-number\">4</span>))^<span class=\"hljs-number\">2</span>)-d4)/sigma4;<span class=\"hljs-comment\">%最小二乘的第四个参数</span><br>主程序<br>X = [<span class=\"hljs-number\">746</span> <span class=\"hljs-number\">629</span> <span class=\"hljs-number\">1571</span> <span class=\"hljs-number\">155</span>];<br>Y = [<span class=\"hljs-number\">1393</span> <span class=\"hljs-number\">375</span> <span class=\"hljs-number\">259</span> <span class=\"hljs-number\">987</span>];<br>theta = [<span class=\"hljs-number\">161.2</span>,<span class=\"hljs-number\">45.1</span>,<span class=\"hljs-number\">309.0</span><span class=\"hljs-number\">-360</span>]*<span class=\"hljs-number\">2</span>*<span class=\"hljs-built_in\">pi</span>/<span class=\"hljs-number\">360</span>;<br>sigma = [<span class=\"hljs-number\">0.8</span>,<span class=\"hljs-number\">0.6</span>,<span class=\"hljs-number\">1.3</span>]*<span class=\"hljs-number\">2</span>*<span class=\"hljs-built_in\">pi</span>/<span class=\"hljs-number\">360</span>;<br>d4 = <span class=\"hljs-number\">864.3</span>;<br>sigma4 = <span class=\"hljs-number\">2</span>;<br>x0 = [<span class=\"hljs-number\">900</span>,<span class=\"hljs-number\">700</span>];<span class=\"hljs-comment\">%大约估计的飞机位置</span><br>[x,norm,res,exit,out] = lsqnonlin(@feijidingwei,x0,[],[],[],X,Y,theta,sigma,d4,sigma4)<span class=\"hljs-comment\">%注意这里主初始值就是x0，然后接着三个空数组，然后才能把额外参数传进来</span><br><span class=\"hljs-comment\">%输出</span><br>x =<br><br>   <span class=\"hljs-number\">1.0e+02</span> *<br><br>   <span class=\"hljs-number\">9.783070295413857</span>   <span class=\"hljs-number\">7.239837766517786</span><br><br><br>norm =<br><br>   <span class=\"hljs-number\">0.668471174541973</span><br></code></pre></td></tr></table></figure>\n\n<blockquote>\n<p>lsqcurvefit 也可以最小二乘但是尝试了许多方法它都无法传入更多的参数……遂放弃</p>\n</blockquote>","categories":[{"name":"数学建模","path":"api/categories/数学建模.json"}],"tags":[{"name":"matlab","path":"api/tags/matlab.json"},{"name":"无约束优化","path":"api/tags/无约束优化.json"}]}